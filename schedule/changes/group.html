<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>–ò–∑–º–µ–Ω–µ–Ω–∏—è ‚Äî –ù–ü–ö</title>
<link rel="stylesheet" href="../../assets/styles.css" />
</head>
<body>

<div class="bg-orbs" aria-hidden="true">
  <span class="orb o1"></span>
  <span class="orb o2"></span>
  <span class="orb o3"></span>
</div>

<header class="topbar glass">
  <a class="brand" href="../../">
    <span class="brand__dot"></span>
    <span class="brand__text">–ù–ü–ö</span>
    <span class="brand__sub">–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–∏</span>
  </a>

  <nav class="nav">
    <a class="nav__link" href="../../">–ì–ª–∞–≤–Ω–∞—è</a>
    <a class="nav__link" href="../">–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ</a>
    <a class="nav__link is-active" href="./">–ò–∑–º–µ–Ω–µ–Ω–∏—è</a>
  </nav>

  <div class="actions">
    <button class="btn btn--ghost" id="themeToggle">üåì –¢–µ–º–∞</button>
  </div>
</header>

<main class="wrap">
<section class="card glass reveal" id="content">
  <h1 class="h1" id="title">–ò–∑–º–µ–Ω–µ–Ω–∏—è</h1>
  <p class="muted" id="date"></p>
</section>

<footer class="footer">
  <div class="footer__inner glass">
    <span>¬© <span id="year"></span> –ù–ü–ö</span>
    <span class="muted">–°–∞–π—Ç –Ω–µ–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π ¬∑ –°–¥–µ–ª–∞–Ω–æ —Å –ª—é–±–æ–≤—å—é ‚ù§Ô∏è</span>
  </div>
</footer>
</main>

<!-- –î–ê–ù–ù–´–ï -->
<script src="./changes.js"></script>

<!-- –†–ï–ù–î–ï–† -->
<script>
const params = new URLSearchParams(location.search);
const group = params.get("group");

const container = document.getElementById("content");
const title = document.getElementById("title");
const dateEl = document.getElementById("date");

if (!group || !window.CHANGES || !CHANGES[group]) {
  title.textContent = "–ò–∑–º–µ–Ω–µ–Ω–∏–π –Ω–µ—Ç";
  dateEl.textContent = "–î–ª—è –¥–∞–Ω–Ω–æ–π –≥—Ä—É–ø–ø—ã –∏–∑–º–µ–Ω–µ–Ω–∏–π –Ω–µ –Ω–∞–π–¥–µ–Ω–æ.";
} else {
  const data = CHANGES[group];

  title.textContent = `–ò–∑–º–µ–Ω–µ–Ω–∏—è ¬∑ ${group} –≥—Ä—É–ø–ø–∞`;
  dateEl.textContent = data.date || "";

  const tableWrap = document.createElement("div");
  tableWrap.className = "glass table-wrap";
  tableWrap.style.marginTop = "16px";

  const table = document.createElement("table");
  table.innerHTML = `
    <thead>
      <tr>
        <th>‚Ññ</th>
        <th>–í—Ä–µ–º—è</th>
        <th>–î–∏—Å—Ü–∏–ø–ª–∏–Ω–∞</th>
        <th>–ê—É–¥.</th>
      </tr>
    </thead>
    <tbody></tbody>
  `;

  const tbody = table.querySelector("tbody");

  data.rows.forEach(row => {
    const tr = document.createElement("tr");
    tr.innerHTML = `
      <td data-label="‚Ññ">${row.num}</td>
      <td data-label="–í—Ä–µ–º—è">${row.time}</td>
      <td data-label="–î–∏—Å—Ü–∏–ø–ª–∏–Ω–∞">${row.subject}</td>
      <td data-label="–ê—É–¥.">${row.room}</td>
    `;
    tbody.appendChild(tr);
  });

  tableWrap.appendChild(table);
  container.appendChild(tableWrap);
}
</script>

<script src="../../assets/app.js"></script>
</body>
</html>
